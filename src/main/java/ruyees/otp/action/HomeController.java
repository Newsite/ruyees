package ruyees.otp.action;import java.util.List;import java.util.Locale;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.ui.Model;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import ruyees.otp.model.sys.RoleEnum;import ruyees.otp.model.sys.UserRole;import ruyees.otp.service.UserRoleService;import ruyees.otp.utils.ShiroUtils;/** * Handles requests for the application home page. *  * @author Zaric * @date 2013-6-1 上午12:31:01 */@Controllerpublic class HomeController {	@Autowired	private UserRoleService userRoleService;	@RequestMapping(value = "/", method = RequestMethod.GET)	public String init(Locale locale, Model model) {		List<UserRole> userRole = userRoleService.findUserRoles(ShiroUtils				.getUser().getId());		if (userRole != null) {			if (ShiroUtils.getUserHightRole(userRole) == RoleEnum.trainee) {				// 非正式员工				return "redirect:/trainee/welcome";			}			// 正式员工			return "redirect:/dashboard";		} else {			return "redirect:/dashboard";// 应该到没有权限		}	}}