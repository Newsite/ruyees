<?xml version="1.0" encoding="utf-8"?><!DOCTYPE dynamic-hibernate-statement PUBLIC    "-//LANDRAY/SQL Hibernate Dynamic Statement DTD 1.0//EN"    "http://www.dynamic.com/dtd/dtd/dynamic-hibernate-statement-1.0.dtd"><dynamic-hibernate-statement><sql-query name="report-teaching"><![CDATA[SELECT AA.GUIDID,AA.REALNAME GUIDNAME,COUNT(AA.NEWTEACHID) COUNT_NEWTEACH,SUM(CASE WHEN AA.ENDTIME IS NOT NULL THEN 1 ELSE 0 END) SUM_THROUGH,SUM(CASE WHEN AA.ENDTIME IS NULL THEN 1 ELSE 0 END) SUM_NOTTHROUGH,SUM(CASE WHEN AA.GRADEDURATION IS NULL THEN 0 ELSE AA.GRADEDURATION END) SUM_GRADEDURATION FROM (SELECT SOP.REALNAME,BPM.GUIDID,BPM.NEWTEACHID,BPM.THROUGH,BPM.STARTTIME,BPM.ENDTIME,BPM.GRADEDURATION,BPM.FINALSCORE,BP.CREATETIME FROM IXDF_OTP_BAM_PROJECT_MEMBER BPMLEFT JOIN IXDF_OTP_BAM_PROJECT BP ON BPM.FDPROJECTID = BP.FDID LEFT JOIN IXDF_OTP_PROC_TEMPLATE T ON BP.TEMPLATEID=T.FDIDLEFT JOIN SYS_ORG_PERSON SOP ON BPM.GUIDID = SOP.FDID WHERE BP.FDSTATUS='2'<#if STARTTIME??>AND BP.CREATETIME >= TO_DATE('${STARTTIME}','YYYY-MM-DD') </#if><#if ENDTIME??>AND BP.CREATETIME <= TO_DATE('${ENDTIME}','YYYY-MM-DD') </#if><#if DEPATID??>AND (SOP.DEPATID IN ${DEPATID} ) </#if><#if proids??>AND (T.program_id IN (${proids}) ) </#if><#if GUIDID??>AND (BPM.GUIDID IN ${GUIDID} ) </#if>) AA GROUP BY AA.REALNAME,AA.GUIDID]]></sql-query></dynamic-hibernate-statement>